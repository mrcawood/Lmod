Error found in sourcing script "/Users/mcawood/Lmod/Lmod/rt/sh_to_modulefile/broken.sh": 
/Users/mcawood/Lmod/Lmod/rt/sh_to_modulefile/broken.sh: line 3: fooBar: command not found

If this is a bash script please try:
  $ set -exv; . /Users/mcawood/Lmod/Lmod/rt/sh_to_modulefile/broken.sh
See https://lmod.readthedocs.io/en/latest/260_sh_to_modulefile.html for details.

